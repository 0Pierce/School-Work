<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Movies</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Movie Collection</h1>
    <form action="/add" method="POST">
        <input type="text" name="movieID" placeholder="ID" required /> 
        <input type="text" name="movieTitle" placeholder="Title" required />
        <input type="number" name="releaseYear" placeholder="Year" required />
        <input type="text" name="language" placeholder="Language" required />
        <input type="number" name="rentalPrice" placeholder="Price" step="0.01" required />
        <input type="date" name="rentalDate" placeholder="Rental Date" required />
        <button type="submit">Add Movie</button>
    </form>
	<p>Movies: <span th:text="${#lists.size(movies)}"></span></p>
    <div class="resultsDiv">
        <h2>Movies Database</h2>
        <ul>
            <li th:each="movie : ${movies}">
                <span th:text="'ID: ' + ${movie.movieID}"></span><br/>
                <span th:text="'Title: ' + ${movie.movieTitle}"></span><br/>
                <span th:text="'Year: ' + ${movie.releaseYear}"></span><br/>
                <span th:text="'Language: ' + ${movie.language}"></span><br/>
                <span th:text="'Price: ' + '$' + ${movie.rentalPrice}"></span><br/>
                <span th:text="'Rental Date: ' + ${movie.rentalDate}"></span><br/>
                
                <form class="form" th:action="@{/delete/{id}(id=${movie.movieID})}" method="post" style="display:inline;">
                    <input type="hidden" name="_method" value="DELETE" />
                    <button type="submit">Delete</button>
                </form>
            </li>
        </ul>
    </div>
</body>
</html>
